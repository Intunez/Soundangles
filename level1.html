<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <title>LEVEL 1 ‚Äî Binnen of buitenhoek</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: Arial, sans-serif;
      background: #1d012b;
      color: #fff;
    }

    .page {
      max-width: 1100px;
      margin: 0 auto;
      padding: 20px 20px 60px;
    }

    h1 {
      margin: 0 0 5px;
      font-size: 32px;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .small {
      font-size: 14px;
      opacity: 0.85;
    }

    .btn {
      border: none;
      border-radius: 999px;
      padding: 10px 18px;
      font-size: 14px;
      cursor: pointer;
      font-weight: 600;
    }

    .btn-primary {
      background: #ff4fd6;
      color: #fff;
    }

    .btn-primary:disabled {
      opacity: 0.5;
      cursor: default;
    }

    .btn-secondary {
      background: #2e104b;
      color: #fff;
    }

    .status-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 8px 0 14px;
      font-size: 14px;
      opacity: 0.9;
    }

    .status-bar span {
      margin-right: 16px;
    }

    /* SPEELVELD ------------------------------------------------------- */

    .board-wrapper {
      background: radial-gradient(circle at top left, #742c9b, #1b0227);
      border-radius: 20px;
      padding: 16px;
      box-shadow: 0 0 30px rgba(0,0,0,0.6);
    }

    .board {
      position: relative;
      border-radius: 18px;
      overflow: hidden;
      background: #170021;
      /* verhouding van juistefiguur.jpeg: 786 x 473 */
      aspect-ratio: 786 / 473;
    }

    .diagram {
      position: absolute;
      inset: 0;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .diagram-inner {
      position: relative;
      width: 100%;
      height: 100%;
    }

    .diagram-image {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
      pointer-events: none;
      filter: drop-shadow(0 0 6px rgba(0,0,0,0.4));
    }

    /* Hoek-labels ----------------------------------------------------- */

    .angle-label {
      position: absolute;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 2px solid #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      opacity: 0.7;
      transition: 0.2s;
      background: rgba(0,0,0,0.15);
      backdrop-filter: blur(2px);
    }

    .angle-label span {
      pointer-events: none;
    }

    .angle-label.active {
      border-color: #ff4fd6;
      box-shadow: 0 0 16px #ff4fd6;
      background: rgba(255,79,214,0.35);
      opacity: 1;
      transform: scale(1.08);
    }

    /* Posities ‚Äì eventueel nog fijn bijregelen ------------------------ */
    .A1 { top: 33%; left: 36%; }
    .A2 { top: 22%; left: 48%; }
    .A3 { top: 38%; left: 54%; }
    .A4 { top: 45%; left: 43%; }

    .B1 { top: 59%; left: 60%; }
    .B2 { top: 66%; left: 66%; }
    .B3 { top: 74%; left: 60%; }
    .B4 { top: 81%; left: 53%; }

    /* Onderste balk --------------------------------------------------- */

    .bottom-panel {
      margin-top: 18px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      justify-content: space-between;
      font-size: 14px;
    }

    .music-controls {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      align-items: center;
    }

    .answer-buttons {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .answer-btn {
      padding: 12px 22px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      background: #2e104b;
      color: #fff;
      font-size: 15px;
      min-width: 150px;
      font-weight: 600;
      transition: 0.15s;
    }

    .answer-btn.correct {
      background: #01b37e;
    }

    .answer-btn.wrong {
      background: #e53935;
    }

    .answer-btn:active {
      transform: scale(0.97);
    }

    .feedback {
      margin-top: 12px;
      min-height: 20px;
      font-size: 15px;
    }
  </style>
</head>
<body>
<div class="page">
  <div class="top-bar">
    <div>
      <h1>LEVEL 1 ‚Äî Binnen of buitenhoek</h1>
      <div class="small" id="questionText">
        Is ‚à†A1 een binnenhoek of een buitenhoek?
      </div>
    </div>
    <button class="btn btn-primary" id="restartBtn">Herstart</button>
  </div>

  <div class="status-bar">
    <div>
      <span id="progressText">Vraag 1 / 10</span>
      <span id="scoreText">Score: 0</span>
    </div>
    <button class="btn btn-primary" id="nextBtn" disabled>Volgende vraag</button>
  </div>

  <div class="board-wrapper">
    <div class="board">
      <div class="diagram">
        <div class="diagram-inner">
          <!-- JOUW FIGUUR -->
          <img src="images/juistefiguur.jpeg" alt="Hoekenfiguur" class="diagram-image">

          <!-- Hoeken A1‚ÄìA4, B1‚ÄìB4 -->
          <div class="angle-label A1" data-angle="A1"><span>A1</span></div>
          <div class="angle-label A2" data-angle="A2"><span>A2</span></div>
          <div class="angle-label A3" data-angle="A3"><span>A3</span></div>
          <div class="angle-label A4" data-angle="A4"><span>A4</span></div>

          <div class="angle-label B1" data-angle="B1"><span>B1</span></div>
          <div class="angle-label B2" data-angle="B2"><span>B2</span></div>
          <div class="angle-label B3" data-angle="B3"><span>B3</span></div>
          <div class="angle-label B4" data-angle="B4"><span>B4</span></div>
        </div>
      </div>
    </div>
  </div>

  <div class="bottom-panel">
    <div class="music-controls">
      <button class="btn btn-secondary" id="listenBtn">üéµ Nog eens luisteren</button>
      <button class="btn btn-secondary" id="stopMusicBtn">‚èπ Stop muziek</button>
      <span class="small">Niveau 1</span>
    </div>

    <div class="answer-buttons">
      <button class="answer-btn" id="btnBinnen">Binnenhoek</button>
      <button class="answer-btn" id="btnBuiten">Buitenhoek</button>
    </div>
  </div>

  <div class="feedback" id="feedbackText"></div>
</div>

<script>
  /* =======================
     AUDIO
     ======================= */

  const binnenAudios = [
    new Audio("audio/hint_major_level1.mp3"),
    new Audio("audio/hint_major_level2.mp3"),
    new Audio("audio/hint_major_level3.mp3"),
    new Audio("audio/hint_major_level4.mp3")
  ];

  const buitenAudios = [
    new Audio("audio/hint_minor_level1.mp3"),
    new Audio("audio/hint_minor_level2.mp3"),
    new Audio("audio/hint_minor_level3.mp3"),
    new Audio("audio/hint_minor_level4.mp3")
  ];

  let currentHint = null;

  function stopAllHints() {
    [...binnenAudios, ...buitenAudios].forEach(a => {
      a.pause();
      a.currentTime = 0;
    });
    currentHint = null;
  }

  function playRandomHint(type) {
    stopAllHints();
    const list = type === "binnen" ? binnenAudios : buitenAudios;
    const index = Math.floor(Math.random() * list.length);
    currentHint = list[index];
    currentHint.currentTime = 0;
    currentHint.play();
  }

  /* =======================
     VRAGEN
     ======================= */

  // Binnenhoeken: tussen de twee evenwijdige lijnen
  // In jouw figuur zijn dat A3, A4, B1, B2
  const questions = [
    { angle: "A1", correct: "buiten" },
    { angle: "A2", correct: "buiten" },
    { angle: "A3", correct: "binnen" },
    { angle: "A4", correct: "binnen" },
    { angle: "B1", correct: "binnen" },
    { angle: "B2", correct: "binnen" },
    { angle: "B3", correct: "buiten" },
    { angle: "B4", correct: "buiten" },
    { angle: "A3", correct: "binnen" },
    { angle: "B2", correct: "binnen" }
  ];

  let currentIndex = 0;
  let score = 0;
  let answered = false;

  const angleLabels = document.querySelectorAll(".angle-label");
  const questionText = document.getElementById("questionText");
  const progressText = document.getElementById("progressText");
  const scoreText = document.getElementById("scoreText");
  const feedbackText = document.getElementById("feedbackText");
  const nextBtn = document.getElementById("nextBtn");
  const restartBtn = document.getElementById("restartBtn");
  const btnBinnen = document.getElementById("btnBinnen");
  const btnBuiten = document.getElementById("btnBuiten");
  const listenBtn = document.getElementById("listenBtn");
  const stopMusicBtn = document.getElementById("stopMusicBtn");

  function showQuestion(index) {
    const q = questions[index];
    answered = false;

    // reset knoppen
    btnBinnen.classList.remove("correct", "wrong");
    btnBuiten.classList.remove("correct", "wrong");
    nextBtn.disabled = true;
    feedbackText.textContent = "";

    // tekst
    questionText.textContent =
      "Is ‚à†" + q.angle + " een binnenhoek of een buitenhoek?";
    progressText.textContent = "Vraag " + (index + 1) + " / " + questions.length;
    scoreText.textContent = "Score: " + score;

    // highlight juiste hoek
    angleLabels.forEach(label => {
      if (label.dataset.angle === q.angle) {
        label.classList.add("active");
      } else {
        label.classList.remove("active");
      }
    });

    stopAllHints();
  }

  function handleAnswer(answer) {
    if (answered) return;
    answered = true;

    const q = questions[currentIndex];
    const correct = q.correct;

    if (answer === correct) {
      score++;
      feedbackText.textContent = "Goed gedaan! Dit is een " + correct + "hoek.";
      if (answer === "binnen") {
        btnBinnen.classList.add("correct");
      } else {
        btnBuiten.classList.add("correct");
      }
    } else {
      feedbackText.textContent =
        "Niet helemaal. Dit is een " + correct + "hoek.";
      if (answer === "binnen") {
        btnBinnen.classList.add("wrong");
      } else {
        btnBuiten.classList.add("wrong");
      }
    }

    // speel juiste hint
    playRandomHint(correct);

    scoreText.textContent = "Score: " + score;
    if (currentIndex < questions.length - 1) {
      nextBtn.disabled = false;
    } else {
      nextBtn.disabled = true;
      questionText.textContent += " (Laatste vraag)";
    }
  }

  btnBinnen.addEventListener("click", () => handleAnswer("binnen"));
  btnBuiten.addEventListener("click", () => handleAnswer("buiten"));

  nextBtn.addEventListener("click", () => {
    if (currentIndex < questions.length - 1) {
      currentIndex++;
      showQuestion(currentIndex);
    }
  });

  restartBtn.addEventListener("click", () => {
    currentIndex = 0;
    score = 0;
    showQuestion(currentIndex);
  });

  listenBtn.addEventListener("click", () => {
    const q = questions[currentIndex];
    playRandomHint(q.correct); // juiste soort hint
  });

  stopMusicBtn.addEventListener("click", () => {
    stopAllHints();
  });

  // Start spel
  showQuestion(currentIndex);
</script>
</body>
</html>
